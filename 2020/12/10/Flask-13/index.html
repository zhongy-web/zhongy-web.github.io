<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Flask(13) | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="关注者多对多关系解决方法：添加第三张表，这个表称为关联表。可以将多对多分解成两个一对多关系。 12345678910111213141516registrations&#x3D; db.Table(&#39;registrations&#39;    db.Column(&#39;student_id&#39;,db.Integer,db.ForeignKey(&#39;students.id&amp;#">
<meta property="og:type" content="article">
<meta property="og:title" content="Flask(13)">
<meta property="og:url" content="http://example.com/2020/12/10/Flask-13/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="关注者多对多关系解决方法：添加第三张表，这个表称为关联表。可以将多对多分解成两个一对多关系。 12345678910111213141516registrations&#x3D; db.Table(&#39;registrations&#39;    db.Column(&#39;student_id&#39;,db.Integer,db.ForeignKey(&#39;students.id&amp;#">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2020-12-10T08:37:18.000Z">
<meta property="article:modified_time" content="2020-12-10T08:38:00.498Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.2.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-Flask-13" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/12/10/Flask-13/" class="article-date">
  <time datetime="2020-12-10T08:37:18.000Z" itemprop="datePublished">2020-12-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Flask(13)
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="关注者"><a href="#关注者" class="headerlink" title="关注者"></a>关注者</h1><h3 id="多对多关系"><a href="#多对多关系" class="headerlink" title="多对多关系"></a>多对多关系</h3><p>解决方法：添加第三张表，这个表称为关联表。可以将多对多分解成两个一对多关系。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">registrations&#x3D; db.Table(&#39;registrations&#39;</span><br><span class="line">    db.Column(&#39;student_id&#39;,db.Integer,db.ForeignKey(&#39;students.id&#39;)),</span><br><span class="line">    db.Column(&#39;class_id&#39;,db.Integer,db.ForeignKey(&#39;classes.id&#39;))</span><br><span class="line">)</span><br><span class="line">class Student(db.Model):</span><br><span class="line">    id &#x3D; db.Column(db.Integer,primary_key&#x3D;True)</span><br><span class="line">    name &#x3D; db.Column(db.String)</span><br><span class="line">    classes &#x3D; db.relationship(&#39;Class&#39;,</span><br><span class="line">                               secondary&#x3D;registrations,</span><br><span class="line">                               backref&#x3D;db.backref(&#39;students&#39;,lazy&#x3D;&#39;dynamic&#39;),</span><br><span class="line">                               lazy&#x3D;&#39;dynamic&#39;)</span><br><span class="line"></span><br><span class="line">class Class(db.Model):</span><br><span class="line">    id &#x3D; db.Column(db.Integer,primary_key&#x3D;True)</span><br><span class="line">    name &#x3D; db.Column(db.String)                               </span><br><span class="line">在多对多关系中，必须把secondary参数设为关联表，多对多关系可在任何一个类中定义，backref函数会处理好关系的另一侧。db.backref()可以定义students属性。关联表为SQLAlchemy控制，没有模型。</span><br></pre></td></tr></table></figure>

<h3 id="自引用关系"><a href="#自引用关系" class="headerlink" title="自引用关系"></a>自引用关系</h3><p>如果关系中的两侧都在同一张表中，这种关系叫<strong>自引用关系</strong>。</p>
<h3 id="高级多对多关系"><a href="#高级多对多关系" class="headerlink" title="高级多对多关系"></a>高级多对多关系</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">为了提升关联表的地位，创建一个模型，便于操作。</span><br><span class="line">class Follow(db.Model):</span><br><span class="line">    __tablename__ &#x3D; &#39;follows&#39;</span><br><span class="line">    follower_id &#x3D; db.Column(db.Integer, db.ForeignKey(&#39;users.id&#39;),</span><br><span class="line">                            primary_key&#x3D;True)</span><br><span class="line">    followed_id &#x3D; db.Column(db.Integer, db.ForeignKey(&#39;users.id&#39;),</span><br><span class="line">                            primary_key&#x3D;True)</span><br><span class="line">    timestamp &#x3D; db.Column(db.DateTime, default&#x3D;datetime.utcnow)</span><br></pre></td></tr></table></figure>

<p>使用两个一对多关系实现多对多关系</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">class User(UserMixin, db.Model):</span><br><span class="line">    # ...</span><br><span class="line">    followed &#x3D; db.relationship(&#39;Follow&#39;,</span><br><span class="line">                               foreign_keys&#x3D;[Follow.follower_id],</span><br><span class="line">                               backref&#x3D;db.backref(&#39;follower&#39;, lazy&#x3D;&#39;joined&#39;),</span><br><span class="line">                               lazy&#x3D;&#39;dynamic&#39;,</span><br><span class="line">                               cascade&#x3D;&#39;all, delete-orphan&#39;)</span><br><span class="line">    followers &#x3D; db.relationship(&#39;Follow&#39;,</span><br><span class="line">                                foreign_keys&#x3D;[Follow.followed_id],</span><br><span class="line">                                backref&#x3D;db.backref(&#39;followed&#39;, lazy&#x3D;&#39;joined&#39;),</span><br><span class="line">                                lazy&#x3D;&#39;dynamic&#39;,</span><br><span class="line">                                # 该参数用来销毁关联表的，这个选项只能用在一对多</span><br><span class="line">                                cascade&#x3D;&#39;all, delete-orphan&#39;)</span><br><span class="line">因为两个外键都在同一个模型中，为了消除外键间的歧义，定义关系时必须使用可选参数</span><br><span class="line">foreign_keys指定外键。db.backref（）不是指定两个关系之间的引用关系，而是回引Follow模型。</span><br></pre></td></tr></table></figure>

<p>对于backref与lazy函数的解释：<br><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq/_34146899/article/details/52559747">https://blog.csdn.net/qq\_34146899/article/details/52559747</a>  </p>
<p>关注辅助方法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">class User(db.Model):</span><br><span class="line">    # ...</span><br><span class="line">    def follow(self, user):</span><br><span class="line">        if not self.is_following(user):</span><br><span class="line">            f &#x3D; Follow(follower&#x3D;self, followed&#x3D;user)</span><br><span class="line">            db.session.add(f)</span><br><span class="line"></span><br><span class="line">    def unfollow(self, user):</span><br><span class="line">        f &#x3D; self.followed.filter_by(followed_id&#x3D;user.id).first()</span><br><span class="line">        if f:</span><br><span class="line">            db.session.delete(f)</span><br><span class="line"></span><br><span class="line">    def is_following(self, user):</span><br><span class="line">        if user.id is None:</span><br><span class="line">            return False</span><br><span class="line">        return self.followed.filter_by(</span><br><span class="line">            followed_id&#x3D;user.id).first() is not None</span><br><span class="line"></span><br><span class="line">    def is_followed_by(self, user):</span><br><span class="line">        if user.id is None:</span><br><span class="line">            return False</span><br><span class="line">        return self.followers.filter_by(</span><br><span class="line">            follower_id&#x3D;user.id).first() is not None</span><br></pre></td></tr></table></figure>

<p>关注路由和视图函数：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">@main.route(&#39;&#x2F;follow&#x2F;&lt;username&gt;&#39;)</span><br><span class="line">@login_required</span><br><span class="line">@permission_required(Permission.FOLLOW)</span><br><span class="line">def follow(username):</span><br><span class="line">    user &#x3D; User.query.filter_by(username&#x3D;username).first()</span><br><span class="line">    if user is None:</span><br><span class="line">        flash(&#39;Invalid user.&#39;)</span><br><span class="line">        return redirect(url_for(&#39;.index&#39;))</span><br><span class="line">    if current_user.is_following(user):</span><br><span class="line">        flash(&#39;You are already following this user.&#39;)</span><br><span class="line">        return redirect(url_for(&#39;.user&#39;, username&#x3D;username))</span><br><span class="line">    current_user.follow(user)</span><br><span class="line">    db.session.commit()</span><br><span class="line">    flash(&#39;You are now following %s.&#39; % username)</span><br><span class="line">    return redirect(url_for(&#39;.user&#39;, username&#x3D;username))</span><br></pre></td></tr></table></figure>
<p>关注者路由和视图函数：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">@main.route(&#39;&#x2F;followers&#x2F;&lt;username&gt;&#39;)</span><br><span class="line">def followers(username):</span><br><span class="line">    user &#x3D; User.query.filter_by(username&#x3D;username).first()</span><br><span class="line">    if user is None:</span><br><span class="line">        flash(&#39;Invalid user.&#39;)</span><br><span class="line">        return redirect(url_for(&#39;.index&#39;))</span><br><span class="line">    page &#x3D; request.args.get(&#39;page&#39;, 1, type&#x3D;int)</span><br><span class="line">    pagination &#x3D; user.followers.paginate(</span><br><span class="line">        page, per_page&#x3D;current_app.config[&#39;FLASKY_FOLLOWERS_PER_PAGE&#39;],</span><br><span class="line">        error_out&#x3D;False)</span><br><span class="line">    follows &#x3D; [&#123;&#39;user&#39;: item.follower, &#39;timestamp&#39;: item.timestamp&#125;</span><br><span class="line">               for item in pagination.items]</span><br><span class="line">    return render_template(&#39;followers.html&#39;, user&#x3D;user, title&#x3D;&quot;Followers of&quot;,</span><br><span class="line">                           endpoint&#x3D;&#39;.followers&#39;, pagination&#x3D;pagination,</span><br><span class="line">                           follows&#x3D;follows)</span><br></pre></td></tr></table></figure>
<h2 id="使用数据库联结查询所关注用户的文章"><a href="#使用数据库联结查询所关注用户的文章" class="headerlink" title="使用数据库联结查询所关注用户的文章"></a>使用数据库联结查询所关注用户的文章</h2><p>联结操作用到两个或更多的数据表，在其中查找满足指定条件的记录组合，再把记录组合插入一个临时表中，这个临时表就是联结查询的结果。  </p>
<p>使用Flask-SQLAlchemy执行这个联结操作的查询十分复杂  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">return db.session.query(Post).select_from(Follow).\</span><br><span class="line">    filter_by(follower_id&#x3D;self.id).\</span><br><span class="line">    join(Post,Follow.followed_id &#x3D;&#x3D; Post.author_id)</span><br><span class="line"></span><br><span class="line">db.session.query(Post):返回一个Post模型对象</span><br><span class="line">select_from(Follow)：这个查询从Follow模型开始</span><br><span class="line">filter_by(follower_id&#x3D;self.id)使用关注用户过滤follows表</span><br><span class="line">join(Post,Follow.followed_id &#x3D;&#x3D; Post.author_id)：联结filter_by()得到的结果和Post对象</span><br><span class="line"></span><br><span class="line">调换过滤器和联结的顺序可以简化这个查询：</span><br><span class="line">    return Post.query.join(Follow,Follow.followed_id &#x3D;&#x3D; Post.author_id)\</span><br><span class="line">        .filter(Follow.follower_id &#x3D;&#x3D; self.id)</span><br></pre></td></tr></table></figure>
<p>获取所关注用户的文章：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">class User(db.Model):</span><br><span class="line">    # ...</span><br><span class="line">    @property</span><br><span class="line">    def followed_posts(self):</span><br><span class="line">        return Post.query.join(Follow, Follow.followed_id &#x3D;&#x3D; Post.author_id)\</span><br><span class="line">            .filter(Follow.follower_id &#x3D;&#x3D; self.id)</span><br></pre></td></tr></table></figure>

<p>显示所有博客文章或只显示所关注用户的文章：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">@main.route(&#39;&#x2F;&#39;, methods&#x3D;[&#39;GET&#39;, &#39;POST&#39;])</span><br><span class="line">def index():</span><br><span class="line">    # ...</span><br><span class="line">    show_followed &#x3D; False</span><br><span class="line">    if current_user.is_authenticated:</span><br><span class="line">        show_followed &#x3D; bool(request.cookies.get(&#39;show_followed&#39;, &#39;&#39;))</span><br><span class="line">    if show_followed:</span><br><span class="line">        query &#x3D; current_user.followed_posts</span><br><span class="line">    else:</span><br><span class="line">        query &#x3D; Post.query</span><br><span class="line">    pagination &#x3D; query.order_by(Post.timestamp.desc()).paginate(</span><br><span class="line">        page, per_page&#x3D;current_app.config[&#39;FLASKY_POSTS_PER_PAGE&#39;],</span><br><span class="line">        error_out&#x3D;False)</span><br><span class="line">    posts &#x3D; pagination.items</span><br><span class="line">    return render_template(&#39;index.html&#39;, form&#x3D;form, posts&#x3D;posts,</span><br><span class="line">                           show_followed&#x3D;show_followed, pagination&#x3D;pagination)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>查询所有文章还是所关注用户的文章：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">@main.route(&#39;&#x2F;all&#39;)</span><br><span class="line">@login_required</span><br><span class="line">def show_all():</span><br><span class="line">    resp &#x3D; make_response(redirect(url_for(&#39;.index&#39;)))</span><br><span class="line">    resp.set_cookie(&#39;show_followed&#39;, &#39;&#39;, max_age&#x3D;30*24*60*60)</span><br><span class="line">    return resp</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">@main.route(&#39;&#x2F;followed&#39;)</span><br><span class="line">@login_required</span><br><span class="line">def show_followed():</span><br><span class="line">    resp &#x3D; make_response(redirect(url_for(&#39;.index&#39;)))</span><br><span class="line">    resp.set_cookie(&#39;show_followed&#39;, &#39;1&#39;, max_age&#x3D;30*24*60*60)</span><br><span class="line">    return resp</span><br><span class="line"></span><br><span class="line">cookie只能在响应对象中设置，因此这两个路由不能依赖Flask，使用make_response()来创建响应对象。</span><br></pre></td></tr></table></figure>

<p>将自身设为自己的关注者：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">class User(db.Model):</span><br><span class="line">    # ...</span><br><span class="line">    def __init__(self,**kwargs):</span><br><span class="line">        # ...</span><br><span class="line">        self.follow(self)</span><br><span class="line">不设置的话，自己的文章不会在关注的文章中显示。</span><br></pre></td></tr></table></figure>

<p>更新现有用户：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">class User(UserMixin,db.Model):</span><br><span class="line">    # ...</span><br><span class="line">    @staticmethod</span><br><span class="line">    def add_self_follows():</span><br><span class="line">        for user in User.query.all():</span><br><span class="line">            if not user.is_following(user):</span><br><span class="line">                user.follow(user)</span><br><span class="line">                db.session.add(user)</span><br><span class="line">                db.session.commit()</span><br><span class="line">    # ...</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/12/10/Flask-13/" data-id="ckiiladmw0000lzjxc2n32wwf" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2020/12/10/Flask-14/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Flask(14)
        
      </div>
    </a>
  
  
    <a href="/2020/12/06/%E8%A7%A3%E5%86%B3migration%E7%89%88%E6%9C%AC%E5%86%B2%E7%AA%81%E9%97%AE%E9%A2%98/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">解决migration版本冲突问题</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/12/10/Flask-14/">Flask(14)</a>
          </li>
        
          <li>
            <a href="/2020/12/10/Flask-13/">Flask(13)</a>
          </li>
        
          <li>
            <a href="/2020/12/06/%E8%A7%A3%E5%86%B3migration%E7%89%88%E6%9C%AC%E5%86%B2%E7%AA%81%E9%97%AE%E9%A2%98/">解决migration版本冲突问题</a>
          </li>
        
          <li>
            <a href="/2020/12/06/Flask-12/">Flask(12)</a>
          </li>
        
          <li>
            <a href="/2020/12/06/Flask-11/">Flask(11)</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>